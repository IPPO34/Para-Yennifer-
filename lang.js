const translations = {
    vi: {
        title: "Feliz Dia de la Novia üéâ",
        description: "M·ªôt l·ªùi ch√∫c sinh nh·∫≠t ƒë·∫∑c bi·ªát d√†nh cho b·∫°n! H√£y kh√°m ph√° m√≥n qu√† √Ω nghƒ©a n√†y!",
        login: "ƒêƒÉng nh·∫≠p b·∫±ng Google",
        logout: "ƒêƒÉng xu·∫•t",
        settings: "C√†i ƒê·∫∑t Trang Web",
        music: "C√†i ƒê·∫∑t √Çm Thanh",
        backgroundMusic: "Nh·∫°c N·ªÅn:",
        countdown: "C√†i ƒê·∫∑t Th·ªùi Gian",
        countdownTime: "Th·ªùi Gian ƒê·∫øm Ng∆∞·ª£c:",
        matrix: "C√†i ƒê·∫∑t Hi·ªáu ·ª®ng M∆∞a Ch·ªØ",
        matrixText: "ch·ªØ ch√≠nh m∆∞a ch·ªØ:",
        matrixColor1: "M√†u m∆∞a ch·ªØ 1:",
        matrixColor2: "M√†u m∆∞a ch·ªØ 2:",
        sequence: "C√†i ƒê·∫∑t ch·ªØ ch√≠nh",
        sequenceText: "N·ªôi Dung ch·ªØ ch√≠nh:",
        sequenceColor: "M√†u ch·ªØ ch√≠nh:",
        gift: "C√†i ƒê·∫∑t H√¨nh ƒê·ªông",
        giftImage: "H√¨nh ƒê·ªông (t√πy ch·ªçn):",
        enableBook: "Hi·ªÉn th·ªã s√°ch:",
        book: "C√†i ƒê·∫∑t Trang S√°ch",
        enableHeart: "Hi·ªÉn th·ªã hi·ªáu ·ª©ng tr√°i tim:",
        note: "‚è≥ L∆∞u √Ω: H·∫°n s·ª≠ d·ª•ng ch·ªâ c√≥ 7 ng√†y, v·∫≠y n√™n ƒë·ª´ng t·∫°o tr∆∞·ªõc qu√° s·ªõm nh√©!",
        follow: "ü•∞ H√£y follow m√¨nh ƒë·ªÉ c·∫≠p nh·∫≠t nh·ªØng website m·ªõi nh·∫•t, nhanh nh·∫•t nh√©!",
        apply: "√Åp D·ª•ng C√†i ƒê·∫∑t",
        copyright: 'Website ƒë∆∞·ª£c t·∫°o b·ªüi tiktoker: <a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank"> @iamtritoan</a>',
        fullscreen: "To√†n m√†n h√¨nh",
        // ...th√™m c√°c key kh√°c n·∫øu c·∫ßn...
       

        //
        validCoverOnly: "‚úÖ H·ª£p l·ªá (ch·ªâ c√≥ b√¨a)",
        validCoverAndPairs: "‚úÖ H·ª£p l·ªá (b√¨a + c√°c c·∫∑p trang)",
        invalidMissingPage: "‚ùå Kh√¥ng h·ª£p l·ªá (thi·∫øu 1 trang ƒë·ªÉ t·∫°o c·∫∑p)",
        bookPageInfo: "Th√¥ng tin trang s√°ch:",
        totalPages: "T·ªïng s·ªë trang",
        status: "Tr·∫°ng th√°i",
        structure: "C·∫•u tr√∫c",
        coverOnly: "Ch·ªâ c√≥ b√¨a",
        coverAndPairs: "B√¨a (1) + {pairs} c·∫∑p trang{extra}",
        plusOneExtra: " + 1 trang l·∫ª",
        pageTitleCover: "Trang {num} (B√¨a)",
        pageTitle: "Trang {num}",
        imageLabel: "H√¨nh ·∫£nh:",
        coverPlaceholder: "B√¨a S√°ch",
        pagePlaceholder: "Trang {num}",
        noImageAlt: "Ch∆∞a c√≥ ·∫£nh - {placeholder}",
        contentLabel: "N·ªôi dung:",
        contentPlaceholder: "Nh·∫≠p n·ªôi dung cho trang {num}",
        addNewPage: "‚ûï Th√™m Trang M·ªõi",
        emptyPage: "Trang tr·ªëng",
        endOfBook: "H·∫øt s√°ch",
        loading: "ƒêang t·∫£i...",
        waitingIsHappiness: "Ch·ªù ƒë·ª£i l√† h·∫°nh ph√∫c!",
        invalidPageStructure: "C·∫•u tr√∫c trang kh√¥ng h·ª£p l·ªá!",
        currentPages: "Hi·ªán t·∫°i c√≥ {total} trang.",
        bookStructureGuide: "C·∫•u tr√∫c s√°ch c·∫ßn:\n- Trang 1: B√¨a\n- T·ª´ trang 2 tr·ªü ƒëi: C√°c c·∫∑p trang (2-3, 4-5, 6-7...)",
        pleaseAddOrRemovePage: "Vui l√≤ng th√™m th√™m 1 trang ho·∫∑c x√≥a b·ªõt 1 trang ƒë·ªÉ t·∫°o c·∫•u tr√∫c h·ª£p l·ªá.",
        fullscreenNotSupported: "Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ch·∫ø ƒë·ªô to√†n m√†n h√¨nh!",
        noteSequence: "l∆∞u √Ω: h√£y ngƒÉn c√°ch b·∫±ng d·∫•u | ƒë·ªÉ t√°ch t·ª´, kh√¥ng n√™n ƒë·ªÉ m·ªôt d√≤ng qu√° d√†i",
        noteExpire: "‚è≥ <b>L∆∞u √Ω:</b> H·∫°n s·ª≠ d·ª•ng ch·ªâ c√≥ <b>30 ng√†y</b>, v·∫≠y n√™n ƒë·ª´ng t·∫°o tr∆∞·ªõc qu√° s·ªõm nh√©!",
        followNote: "ü•∞ H√£y <a href=\"https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc\" target=\"_blank\" style=\"color:#ff0050;font-weight:bold;text-decoration:underline;\">follow m√¨nh</a> ƒë·ªÉ c·∫≠p nh·∫≠t nh·ªØng website m·ªõi nh·∫•t, nhanh nh·∫•t nh√©!",
        on: "B·∫≠t",
        off: "T·∫Øt",
        sec3: "3 gi√¢y",
        sec5: "5 gi√¢y",
        sec10: "10 gi√¢y",
        noGif: "Kh√¥ng c√≥",
        notVietnamWarning: '‚ö†Ô∏è N·∫øu b·∫°n kh√¥ng ph·∫£i ng∆∞·ªùi Vi·ªát Nam, b·∫°n s·∫Ω kh√¥ng thanh to√°n ƒë∆∞·ª£c qua website n√†y. H√£y thi·∫øt k·∫ø s·∫£n ph·∫©m c·ªßa b·∫°n xong, sau ƒë√≥ ·∫•n n√∫t "üí≥ Thanh to√°n & T·∫°o Website" v√† ƒë·ª£i ƒë·∫øn khi hi·ªÉn th·ªã m√£ QR thanh to√°n. L√∫c n√†y, h√£y nh·∫Øn tin qua TikTok<a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank" style="color:#ff0050;font-weight:bold;text-decoration:underline;"> @iamtritoan</a> ƒë·ªÉ ƒë∆∞·ª£c h·ªó tr·ª£ thanh to√°n s·∫£n ph·∫©m n√†y.',
    },
    en: {
        title: "Para ti mi amorcito üíó",
        description: "A special birthday wish just for you! Discover this meaningful gift!",
        login: "Sign in with Google",
        logout: "Logout",
        settings: "Website Settings",
        music: "Music Settings",
        backgroundMusic: "Background Music:",
        countdown: "Countdown Settings",
        countdownTime: "Countdown Time:",
        matrix: "Matrix Rain Effect Settings",
        matrixText: "Matrix main text:",
        matrixColor1: "Matrix color 1:",
        matrixColor2: "Matrix color 2:",
        sequence: "Main Text Settings",
        sequenceText: "Main text content:",
        sequenceColor: "Main text color:",
        gift: "Animated Image Settings",
        giftImage: "Animated Image (optional):",
        enableBook: "Show book:",
        book: "Book Page Settings",
        enableHeart: "Show heart effect:",
        note: "‚è≥ Note: The website is valid for only 7 days, so don't create it too early!",
        follow: "ü•∞ Please follow me to get the latest websites as soon as possible!",
        apply: "Apply Settings",
        copyright: 'Website created by tiktoker:<a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank"> @iamtritoan</a>',
        fullscreen: "Fullscreen",
        // ...add more keys as needed...

       
        //
        validCoverOnly: "‚úÖ Valid (cover only)",
        validCoverAndPairs: "‚úÖ Valid (cover + page pairs)",
        invalidMissingPage: "‚ùå Invalid (missing 1 page to form a pair)",
        bookPageInfo: "Book page info:",
        totalPages: "Total pages",
        status: "Status",
        structure: "Structure",
        coverOnly: "Cover only",
        coverAndPairs: "Cover (1) + {pairs} page pairs{extra}",
        plusOneExtra: " + 1 extra page",
        pageTitleCover: "Page {num} (Cover)",
        pageTitle: "Page {num}",
        imageLabel: "Image:",
        coverPlaceholder: "Book Cover",
        pagePlaceholder: "Page {num}",
        noImageAlt: "No image yet - {placeholder}",
        contentLabel: "Content:",
        contentPlaceholder: "Enter content for page {num}",
        addNewPage: "‚ûï Add New Page",
        emptyPage: "Empty page",
        endOfBook: "End of book",
        loading: "Loading...",
        waitingIsHappiness: "Waiting is happiness!",
        invalidPageStructure: "Invalid page structure!",
        currentPages: "Currently {total} pages.",
        bookStructureGuide: "Book structure required:\n- Page 1: Cover\n- From page 2: Page pairs (2-3, 4-5, 6-7...)",
        pleaseAddOrRemovePage: "Please add or remove 1 page to create a valid structure.",
        fullscreenNotSupported: "Your browser does not support fullscreen mode!",
        // Th√™m v√†o c·∫£ vi v√† en:
noteSequence: "l∆∞u √Ω: h√£y ngƒÉn c√°ch b·∫±ng d·∫•u | ƒë·ªÉ t√°ch t·ª´, kh√¥ng n√™n ƒë·ªÉ m·ªôt d√≤ng qu√° d√†i",
noteExpire: "‚è≥ <b>Note:</b> The website is only valid for <b>30 days</b>, so don't create it too early!",
followNote: "ü•∞ Please <a href=\"https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc\" target=\"_blank\" style=\"color:#ff0050;font-weight:bold;text-decoration:underline;\">follow me</a> to get the latest websites as soon as possible!",
on: "On",
off: "Off",
sec3: "3 seconds",
sec5: "5 seconds",
sec10: "10 seconds",
noGif: "None",
notVietnamWarning: '‚ö†Ô∏è If you are not Vietnamese, you cannot pay through this website. Please finish designing your product, then click the "üí≥ Pay & Create Website" button and wait until the payment QR code is displayed. At that time, please message TikTok<a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank" style="color:#ff0050;font-weight:bold;text-decoration:underline;"> @iamtritoan</a> for payment support.',
    }
};

function setLanguage(lang) {
    document.documentElement.lang = lang;
    // ƒê·ªïi title v√† meta
    document.title = translations[lang].title;
    document.querySelector('meta[name="description"]').setAttribute('content', translations[lang].description);

    // ƒê·ªïi c√°c ph·∫ßn t·ª≠ c√≥ data-i18n
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (
                translations[lang][key].includes('<b>') ||
                translations[lang][key].includes('<a')
            ) {
                el.innerHTML = translations[lang][key];
            } else {
                el.innerText = translations[lang][key];
            }
        }
    });

    // ƒê·ªïi c√°c placeholder
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[lang][key]) {
            el.setAttribute('placeholder', translations[lang][key]);
        }
    });

    // ƒê·ªïi c√°c label, option, v.v. n·∫øu c·∫ßn
    // ...b·ªï sung n·∫øu c·∫ßn...
}

// L∆∞u ng√¥n ng·ªØ v√†o localStorage
function switchLanguage() {
    const current = localStorage.getItem('lang') || 'vi';
    const next = current === 'vi' ? 'en' : 'vi';
    localStorage.setItem('lang', next);
    setLanguage(next);
       // C·∫≠p nh·∫≠t l·∫°i UI ƒë·ªông (n·∫øu c√≥)
    if (window.pricingCalculator) {
        window.pricingCalculator.updatePricing();
    }
}

// Kh·ªüi t·∫°o ng√¥n ng·ªØ khi load trang
document.addEventListener('DOMContentLoaded', () => {
    const lang = localStorage.getItem('lang') || 'vi';
    setLanguage(lang);
    // G·∫Øn s·ª± ki·ªán cho n√∫t chuy·ªÉn ng√¥n ng·ªØ
    document.getElementById('langSwitchBtn').onclick = switchLanguage;
});

function t(key, vars = {}) {
    const lang = localStorage.getItem('lang') || 'vi';
    let str = (translations[lang] && translations[lang][key]) || key;
    Object.keys(vars).forEach(k => {
        str = str.replace(`{${k}}`, vars[k]);
    });
    return str;
}

