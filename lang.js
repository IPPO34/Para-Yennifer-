const translations = {
    vi: {
        title: "Feliz Dia de la Novia ğŸ‰",
        description: "Má»™t lá»i chÃºc sinh nháº­t Ä‘áº·c biá»‡t dÃ nh cho báº¡n! HÃ£y khÃ¡m phÃ¡ mÃ³n quÃ  Ã½ nghÄ©a nÃ y!",
        login: "ÄÄƒng nháº­p báº±ng Google",
        logout: "ÄÄƒng xuáº¥t",
        settings: "CÃ i Äáº·t Trang Web",
        music: "CÃ i Äáº·t Ã‚m Thanh",
        backgroundMusic: "Nháº¡c Ná»n:",
        countdown: "CÃ i Äáº·t Thá»i Gian",
        countdownTime: "Thá»i Gian Äáº¿m NgÆ°á»£c:",
        matrix: "CÃ i Äáº·t Hiá»‡u á»¨ng MÆ°a Chá»¯",
        matrixText: "chá»¯ chÃ­nh mÆ°a chá»¯:",
        matrixColor1: "MÃ u mÆ°a chá»¯ 1:",
        matrixColor2: "MÃ u mÆ°a chá»¯ 2:",
        sequence: "CÃ i Äáº·t chá»¯ chÃ­nh",
        sequenceText: "Ná»™i Dung chá»¯ chÃ­nh:",
        sequenceColor: "MÃ u chá»¯ chÃ­nh:",
        gift: "CÃ i Äáº·t HÃ¬nh Äá»™ng",
        giftImage: "HÃ¬nh Äá»™ng (tÃ¹y chá»n):",
        enableBook: "Hiá»ƒn thá»‹ sÃ¡ch:",
        book: "CÃ i Äáº·t Trang SÃ¡ch",
        enableHeart: "Hiá»ƒn thá»‹ hiá»‡u á»©ng trÃ¡i tim:",
        note: "â³ LÆ°u Ã½: Háº¡n sá»­ dá»¥ng chá»‰ cÃ³ 7 ngÃ y, váº­y nÃªn Ä‘á»«ng táº¡o trÆ°á»›c quÃ¡ sá»›m nhÃ©!",
        follow: "ğŸ¥° HÃ£y follow mÃ¬nh Ä‘á»ƒ cáº­p nháº­t nhá»¯ng website má»›i nháº¥t, nhanh nháº¥t nhÃ©!",
        apply: "Ãp Dá»¥ng CÃ i Äáº·t",
        copyright: 'Website Ä‘Æ°á»£c táº¡o bá»Ÿi tiktoker: <a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank"> @iamtritoan</a>',
        fullscreen: "ToÃ n mÃ n hÃ¬nh",
        // ...thÃªm cÃ¡c key khÃ¡c náº¿u cáº§n...
       

        //
        validCoverOnly: "âœ… Há»£p lá»‡ (chá»‰ cÃ³ bÃ¬a)",
        validCoverAndPairs: "âœ… Há»£p lá»‡ (bÃ¬a + cÃ¡c cáº·p trang)",
        invalidMissingPage: "âŒ KhÃ´ng há»£p lá»‡ (thiáº¿u 1 trang Ä‘á»ƒ táº¡o cáº·p)",
        bookPageInfo: "ThÃ´ng tin trang sÃ¡ch:",
        totalPages: "Tá»•ng sá»‘ trang",
        status: "Tráº¡ng thÃ¡i",
        structure: "Cáº¥u trÃºc",
        coverOnly: "Chá»‰ cÃ³ bÃ¬a",
        coverAndPairs: "BÃ¬a (1) + {pairs} cáº·p trang{extra}",
        plusOneExtra: " + 1 trang láº»",
        pageTitleCover: "Trang {num} (BÃ¬a)",
        pageTitle: "Trang {num}",
        imageLabel: "HÃ¬nh áº£nh:",
        coverPlaceholder: "BÃ¬a SÃ¡ch",
        pagePlaceholder: "Trang {num}",
        noImageAlt: "ChÆ°a cÃ³ áº£nh - {placeholder}",
        contentLabel: "Ná»™i dung:",
        contentPlaceholder: "Nháº­p ná»™i dung cho trang {num}",
        addNewPage: "â• ThÃªm Trang Má»›i",
        emptyPage: "Trang trá»‘ng",
        endOfBook: "Háº¿t sÃ¡ch",
        loading: "Äang táº£i...",
        waitingIsHappiness: "Chá» Ä‘á»£i lÃ  háº¡nh phÃºc!",
        invalidPageStructure: "Cáº¥u trÃºc trang khÃ´ng há»£p lá»‡!",
        currentPages: "Hiá»‡n táº¡i cÃ³ {total} trang.",
        bookStructureGuide: "Cáº¥u trÃºc sÃ¡ch cáº§n:\n- Trang 1: BÃ¬a\n- Tá»« trang 2 trá»Ÿ Ä‘i: CÃ¡c cáº·p trang (2-3, 4-5, 6-7...)",
        pleaseAddOrRemovePage: "Vui lÃ²ng thÃªm thÃªm 1 trang hoáº·c xÃ³a bá»›t 1 trang Ä‘á»ƒ táº¡o cáº¥u trÃºc há»£p lá»‡.",
        fullscreenNotSupported: "TrÃ¬nh duyá»‡t cá»§a báº¡n khÃ´ng há»— trá»£ cháº¿ Ä‘á»™ toÃ n mÃ n hÃ¬nh!",
        noteSequence: "lÆ°u Ã½: hÃ£y ngÄƒn cÃ¡ch báº±ng dáº¥u | Ä‘á»ƒ tÃ¡ch tá»«, khÃ´ng nÃªn Ä‘á»ƒ má»™t dÃ²ng quÃ¡ dÃ i",
        noteExpire: "â³ <b>LÆ°u Ã½:</b> Háº¡n sá»­ dá»¥ng chá»‰ cÃ³ <b>30 ngÃ y</b>, váº­y nÃªn Ä‘á»«ng táº¡o trÆ°á»›c quÃ¡ sá»›m nhÃ©!",
        followNote: "ğŸ¥° HÃ£y <a href=\"https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc\" target=\"_blank\" style=\"color:#ff0050;font-weight:bold;text-decoration:underline;\">follow mÃ¬nh</a> Ä‘á»ƒ cáº­p nháº­t nhá»¯ng website má»›i nháº¥t, nhanh nháº¥t nhÃ©!",
        on: "Báº­t",
        off: "Táº¯t",
        sec3: "3 giÃ¢y",
        sec5: "5 giÃ¢y",
        sec10: "10 giÃ¢y",
        noGif: "KhÃ´ng cÃ³",
        notVietnamWarning: 'âš ï¸ Náº¿u báº¡n khÃ´ng pháº£i ngÆ°á»i Viá»‡t Nam, báº¡n sáº½ khÃ´ng thanh toÃ¡n Ä‘Æ°á»£c qua website nÃ y. HÃ£y thiáº¿t káº¿ sáº£n pháº©m cá»§a báº¡n xong, sau Ä‘Ã³ áº¥n nÃºt "ğŸ’³ Thanh toÃ¡n & Táº¡o Website" vÃ  Ä‘á»£i Ä‘áº¿n khi hiá»ƒn thá»‹ mÃ£ QR thanh toÃ¡n. LÃºc nÃ y, hÃ£y nháº¯n tin qua TikTok<a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank" style="color:#ff0050;font-weight:bold;text-decoration:underline;"> @iamtritoan</a> Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ thanh toÃ¡n sáº£n pháº©m nÃ y.',
    },
    en: {
        title: "Para ti mi amorcito ğŸ’—",
        description: "A special birthday wish just for you! Discover this meaningful gift!",
        login: "Sign in with Google",
        logout: "Logout",
        settings: "Website Settings",
        music: "Music Settings",
        backgroundMusic: "Background Music:",
        countdown: "Countdown Settings",
        countdownTime: "Countdown Time:",
        matrix: "Matrix Rain Effect Settings",
        matrixText: "Matrix main text:",
        matrixColor1: "Matrix color 1:",
        matrixColor2: "Matrix color 2:",
        sequence: "Main Text Settings",
        sequenceText: "Main text content:",
        sequenceColor: "Main text color:",
        gift: "Animated Image Settings",
        giftImage: "Animated Image (optional):",
        enableBook: "Show book:",
        book: "Book Page Settings",
        enableHeart: "Show heart effect:",
        note: "â³ Note: The website is valid for only 7 days, so don't create it too early!",
        follow: "ğŸ¥° Please follow me to get the latest websites as soon as possible!",
        apply: "Apply Settings",
        copyright: 'Website created by tiktoker:<a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank"> @iamtritoan</a>',
        fullscreen: "Fullscreen",
        // ...add more keys as needed...

       
        //
        validCoverOnly: "âœ… Valid (cover only)",
        validCoverAndPairs: "âœ… Valid (cover + page pairs)",
        invalidMissingPage: "âŒ Invalid (missing 1 page to form a pair)",
        bookPageInfo: "Book page info:",
        totalPages: "Total pages",
        status: "Status",
        structure: "Structure",
        coverOnly: "Cover only",
        coverAndPairs: "Cover (1) + {pairs} page pairs{extra}",
        plusOneExtra: " + 1 extra page",
        pageTitleCover: "Page {num} (Cover)",
        pageTitle: "Page {num}",
        imageLabel: "Image:",
        coverPlaceholder: "Book Cover",
        pagePlaceholder: "Page {num}",
        noImageAlt: "No image yet - {placeholder}",
        contentLabel: "Content:",
        contentPlaceholder: "Enter content for page {num}",
        addNewPage: "â• Add New Page",
        emptyPage: "Empty page",
        endOfBook: "End of book",
        loading: "Loading...",
        waitingIsHappiness: "Waiting is happiness!",
        invalidPageStructure: "Invalid page structure!",
        currentPages: "Currently {total} pages.",
        bookStructureGuide: "Book structure required:\n- Page 1: Cover\n- From page 2: Page pairs (2-3, 4-5, 6-7...)",
        pleaseAddOrRemovePage: "Please add or remove 1 page to create a valid structure.",
        fullscreenNotSupported: "Your browser does not support fullscreen mode!",
        // ThÃªm vÃ o cáº£ vi vÃ  en:
noteSequence: "lÆ°u Ã½: hÃ£y ngÄƒn cÃ¡ch báº±ng dáº¥u | Ä‘á»ƒ tÃ¡ch tá»«, khÃ´ng nÃªn Ä‘á»ƒ má»™t dÃ²ng quÃ¡ dÃ i",
noteExpire: "â³ <b>Note:</b> The website is only valid for <b>30 days</b>, so don't create it too early!",
followNote: "ğŸ¥° Please <a href=\"https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc\" target=\"_blank\" style=\"color:#ff0050;font-weight:bold;text-decoration:underline;\">follow me</a> to get the latest websites as soon as possible!",
on: "On",
off: "Off",
sec3: "3 seconds",
sec5: "5 seconds",
sec10: "10 seconds",
noGif: "None",
notVietnamWarning: 'âš ï¸ If you are not Vietnamese, you cannot pay through this website. Please finish designing your product, then click the "ğŸ’³ Pay & Create Website" button and wait until the payment QR code is displayed. At that time, please message TikTok<a href="https://www.tiktok.com/@iamtritoan?is_from_webapp=1&sender_device=pc" target="_blank" style="color:#ff0050;font-weight:bold;text-decoration:underline;"> @iamtritoan</a> for payment support.',
    }
};

function setLanguage(lang) {
    document.documentElement.lang = lang;
    // Äá»•i title vÃ  meta
    document.title = translations[lang].title;
    document.querySelector('meta[name="description"]').setAttribute('content', translations[lang].description);

    // Äá»•i cÃ¡c pháº§n tá»­ cÃ³ data-i18n
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (
                translations[lang][key].includes('<b>') ||
                translations[lang][key].includes('<a')
            ) {
                el.innerHTML = translations[lang][key];
            } else {
                el.innerText = translations[lang][key];
            }
        }
    });

    // Äá»•i cÃ¡c placeholder
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (translations[lang][key]) {
            el.setAttribute('placeholder', translations[lang][key]);
        }
    });

    // Äá»•i cÃ¡c label, option, v.v. náº¿u cáº§n
    // ...bá»• sung náº¿u cáº§n...
}

// LÆ°u ngÃ´n ngá»¯ vÃ o localStorage
function switchLanguage() {
    const current = localStorage.getItem('lang') || 'vi';
    const next = current === 'vi' ? 'en' : 'vi';
    localStorage.setItem('lang', next);
    setLanguage(next);
       // Cáº­p nháº­t láº¡i UI Ä‘á»™ng (náº¿u cÃ³)
    if (window.pricingCalculator) {
        window.pricingCalculator.updatePricing();
    }
}

// Khá»Ÿi táº¡o ngÃ´n ngá»¯ khi load trang
document.addEventListener('DOMContentLoaded', () => {
    const lang = localStorage.getItem('lang') || 'vi';
    setLanguage(lang);
    // Gáº¯n sá»± kiá»‡n cho nÃºt chuyá»ƒn ngÃ´n ngá»¯
    document.getElementById('langSwitchBtn').onclick = switchLanguage;
});

function t(key, vars = {}) {
    const lang = localStorage.getItem('lang') || 'vi';
    let str = (translations[lang] && translations[lang][key]) || key;
    Object.keys(vars).forEach(k => {
        str = str.replace(`{${k}}`, vars[k]);
    });
    return str;
}

